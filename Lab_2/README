Source code structure:

/*** CODE STRUCTURE: ***
 *
 * help function declarations
 *
 * INT MAIN *
 * - <7> Command argument
 * - <7> Setup of listening socket
 * --- getaddrinfo()
 * --- loop through results and bind
 * - Sigaction settings
 * - Listening loop
 * --- <2> Listen, report and fork children -> do_child_stuff()
 *
 * do_child_stuff() *
 * - <2> Receive HTTP message from client 
 * - <2> Determine the host 
 * - <3> FILTER the request 
 * - <> Change the GET/POST line
 * - <2> Modify Connection-header
 * - <2> Get address info of server 
 * - <2> Loop through results and connect 
 * - <2> Forward request to server 
 * - (Hopefully) receive response from server
 * - <8> FILTER the response
 * - Forward the response to client
 * - End child session
 */

// Supplement with requirements specification point <6>


Included in the <Net Ninny Proxy .tar.gz> (to be named):

* The source code: nin_proxy.cc
* Makefile. Compile with 'make ninnyproxy'.
* Run Net Ninny Proxy using the command:
      ninnyproxy <desired proxy port number to specify for browser>


### TESTING AND LIMITATIONS ###
Tests were done in three different environments (variables listed as <browser,
client network, proxy network>, where localhost means that the proxy was run on
the same machine as the browser):

1) Firefox, LiU, localhost
2) Firefox, ComHem, localhost
3) Firefox, ComHem, Bahnhof
4) Firefox, LiU, Bahnhof


## FUNCTIONALITY TESTS: ##
a) http://www.ida.liu.se/~TDTS04/labs/2011/ass2/goodtest1.txt
b) http://www.ida.liu.se/~TDTS04/labs/2011/ass2/goodtest2.html
c) http://www.ida.liu.se/~TDTS04/labs/2011/ass2/SpongeBob.html
d) http://www.ida.liu.se/~TDTS04/labs/2011/ass2/badtest1.html
e) http://www.stackoverflow.com
f) http://www.aftonbladet.se
g) http://www.svd.se
h) http://www.bbc.com
i) http://google.com searching blacklisted worsd
j) http://video.wired.com
k) http://swedbank.se

The tests (a-d) tests basic functionality with text/HTML/url filtering, tests
(e-h) aim to test average functionality on a set of commonly used sites. Test (i)
is aimed specifically to test googling of the blacklisted words, (j) to test
streaming video functionality and (k) to test enforced https.

Test\Env   1	 2     3     4	   5  
--------+-----+-----+-----+-----+-----+
   a    |  p  |  p  |  p  |  p  |    |
   b    |  p  |  p  |  p  |  p  |    |
   c    |  p  |  p  |  p  |  p  |    |
   d    |  p  |  p  |  p  |  p  |    |
   e    |  p  |  p  |  p  |  p  |    |
   f    |  p  |  p  |  f  |  f  |    |
   g    |  p  |  p  |  f  |  f  |    |
   h    |  p  |  p  |  p  |  p  |    |
   i    |  p  |  p  |  p  |  p  |    |
   j    |  f  |  f  |  f  |  f  |    |
   k    |  f  |  f  |  f  |  f  |    |
--------+-----+-----+-----+-----+-----+

%%%
http://swedbank.se:

Proxy is listening on port 8080.
Awaiting connections...
server: got connection from 127.0.0.1
GET request from browser client: 
GET http://www.swedbank.se/ HTTP/1.1
Host: www.swedbank.se
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:44.0) Gecko/20100101 Firefox/44.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
DNT: 1
Connection: keep-alive


This is the httpreq string:
GET http://www.swedbank.se/ HTTP/1.1
Host: www.swedbank.se
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:44.0) Gecko/20100101 Firefox/44.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
DNT: 1
Connection: keep-alive


Pos: 44   Lastpos: 59
(DEBUG) Host:.::www.swedbank.se::.
(DEBUG) raw::Connection:.::keep-alive::.
Proxy has connected to 164.10.48.26 on port 80.
Sent message:
GET http://www.swedbank.se/ HTTP/1.1
Host: www.swedbank.se
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:44.0) Gecko/20100101 Firefox/44.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
DNT: 1
Connection: close


Received response:
HTTP/1.0 302 Found
Location: https://www.swedbank.sehttp://www.swedbank.se/
Connection: close
Content-Length: 0


 ... in 1 receives of total 118 bytes.
Response header DEBUG:
HTTP/1.0 302 Found
Location: https://www.swedbank.sehttp://www.swedbank.se/
Connection: close
Content-Length: 0
Closing connection on 164.10.48.26:80.
Closing connection on 127.0.0.1:8080.
%%%

## KNOWN ISSUES ##
* Redirection issue: Examples - "svd.se" >> "www.svd.se", "http://www.swedbank.se" >> "https://www.swedbank.se"

(To be filled out with development testing and final version testing?)

## NETNINNY CAPABILITIES ##

The proxy only handles HTTP requests. The proxy filters URL and plain uncom-
pressed text content for certain keywords. In current state (probably because of
child session limitation of 8M-sized buffer), the proxy does not handle video
streaming over HTTP. The proxy only filters content based on transmission from
server to client. A modified-since request that is redirected to a cache will
only filter if the cache is not local and uses HTTP communication. The proxy
allows for the host to reuse the bound port upon process termination.

"What to Deliver: Finally, please list, summarize, and discuss how your proxy handle different website types, including both streaming and non-streaming websites that use (or not use) HTTPS and gzip, for example. (Include example websites here.)"

(-)